<mvc:View xmlns:core="sap.ui.core" controllerName="basic.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    <Page id="page" showHeader="false">

        <Bar >
            <contentLeft >
                <SearchField id="searchField" width="100%" placeholder="Search..." liveChange="onSearch" />
            </contentLeft>
            <contentMiddle>
                <Title text="Project DashBoard"></Title>
            </contentMiddle>
            <contentRight>
                <Button text="Create" icon="sap-icon://add" press="onCreatePress" />
                <Button text="Copy" icon="sap-icon://duplicate" press="onCopyPress" class="sapUiTinyMarginBegin" />
            </contentRight>
        </Bar>

        <content>
            <IconTabBar expandable="false" selectedKey="Project" id="iconTabBar" select="onTabSelect">
                <items>
                    <IconTabFilter text="Project" key="Project">
                        <Table items="{/PROJECT}">
                            <columns>
                                <Column><Label text="Project Id" /></Column>
                                <Column><Label text="Name"/></Column>
                                <Column><Label text="Start Date" /></Column>
                                <Column><Label text="End Date" /></Column>
                                <Column><Label text="Status" /></Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{proj_id}" />
                                        <Text text="{proj_name}" />
                                        <Text text="{path :'start_date', formatter : '.formatDate'}" />
                                        <Text text="{path :'end_date', formatter : '.formatDate'}" />
                                        <Text text="{status}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>

                    <IconTabFilter text="Project Members" key="Project Members">
                        <Table items="{/PROJECT_MEMBERS}">
                            <columns>
                                <Column><Label text="Project Id" /></Column>
                                <Column><Label text="Id" /></Column>
                                <Column><Label text="Name"/></Column>
                                <Column><Label text="Role" /></Column>                                
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{project_proj_id}" />
                                        <Text text="{proj_mem_id}" />
                                        <Text text="{mem_name}" />
                                        <Text text="{mem_role}" />                                        
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>

                    <IconTabFilter text="Task" key="Task">
                        <IconTabBar expandable="false">
                            <items>
                                <IconTabFilter text="Task Info" key="Task Info">
                                    <Table items="{/TASK}">
                                        <columns>
                                            <Column><Label text="Project Id"/></Column>
                                            <Column><Label text="Id" /></Column>
                                            <Column><Label text="Title"/></Column>
                                            <Column><Label text="Description" /></Column>                                            
                                        </columns>
                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <Text text="{project_proj_id}" />
                                                    <Text text="{task_id}" />
                                                    <Text text="{task_title}" />
                                                    <Text text="{task_desc}" />                                                    
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                                </IconTabFilter>

                                <IconTabFilter text="Task Status" key="Task Status">
                                    <Table items="{/TASK}">
                                        <columns>
                                            <Column><Label text="Assigned To" /></Column>
                                            <Column><Label text="Status" /></Column>
                                        </columns>
                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <Text text="{task_assignedTo}" />
                                                    <Text text="{task_status}" />
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                                </IconTabFilter>
                            </items>
                        </IconTabBar>
                    </IconTabFilter>

                    <IconTabFilter text="Project Budget" key="Project Budget">
                        <Table items="{/PROJECT_BUDGET}">
                            <columns>
                                <Column><Label text="Project Id" /></Column>
                                <Column><Label text="Id" /></Column>
                                <Column><Label text="Category"/></Column>
                                <Column><Label text="Total Budget" /></Column>                                
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{project_proj_id}" />
                                        <Text text="{budget_id}" />
                                        <Text text="{budget_category}" />
                                        <Text text="{total_budget}" />                                        
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>
